<%- layout("layouts/boilerplate.ejs") %>

<div class="max-w-7xl mx-auto p-8">
    <h1 class="text-3xl font-bold mb-6">Profile</h1>

    <form
        method="POST"
        action="/students/profile/<%= student.id %>"
        class="space-y-6"
    >
        <div>
            <label for="name" class="block text-sm font-medium text-gray-700"
                >Name</label
            >
            <input type="text" id="name" name="name" value="<%= student.name %>"
            class="mt-1 p-2 block w-full border border-gray-300 rounded-md"
            required <%= currUser._id != student.id ? "disabled" : "" %> />
        </div>

        <div>
            <label for="email" class="block text-sm font-medium text-gray-700"
                >Email</label
            >
            <input type="email" id="email" name="email" value="<%= student.email
            %>" class="mt-1 p-2 block w-full border border-gray-300 rounded-md"
            required <%= currUser._id != student.id ? "disabled" : "" %> />
        </div>

        <div>
            <label
                for="department"
                class="block text-sm font-medium text-gray-700"
                >Department</label
            >
            <input type="text" id="department" name="department" value="<%=
            student.department %>" class="mt-1 p-2 block w-full border
            border-gray-300 rounded-md" required <%= currUser._id != student.id
            ? "disabled" : "" %> />
        </div>

        <div>
            <label for="year" class="block text-sm font-medium text-gray-700"
                >Year</label
            >
            <input type="text" id="year" name="year" value="<%= student.year %>"
            class="mt-1 p-2 block w-full border border-gray-300 rounded-md"
            required <%= currUser._id != student.id ? "disabled" : "" %> />
        </div>
        <% if(currUser._id == student.id) { %>
        <div class="mt-6">
            <button
                type="submit"
                class="inline-block px-6 py-2 text-white bg-blue-500 rounded-md hover:bg-blue-700"
            >
                Update Profile
            </button>
        </div>
        <% } %>
    </form>
</div>
